<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Marketing Alchemist â€” Bottle Fill (Quest DM)</title>
  <link rel="stylesheet" href="./assets/styles.css" />
</head>

<body>
  <div class="wrap">
    <!-- DM / Quest Card -->
    <div class="card" id="dmCard">
      <div class="cardHeader">
        <div class="title">ðŸ§ª The Marketing Alchemist <span style="opacity:.7">(Quest DM)</span></div>
        <div class="split">
          <div class="pill">
            <span style="opacity:.7">API:</span>
            <input id="apiBase" class="mono" />
          </div>
          <button id="btnQuest">DM</button>
        </div>
      </div>

      <div class="content">
        <h2 id="questTitle">â€”</h2>

        <p id="dmIntro"></p>
        <p id="dmStatus" class="dmStatus"></p>
        <p id="dmMid" class="small"></p>
        <p id="dmVerdict" class="small"></p>

        <div class="metaRow">
          <div class="meta">BANK: <span id="bankOut" class="mono">â€”</span></div>
          <div class="meta">SinTags: <span id="sinsOut" class="mono">â€”</span></div>
          <div class="meta">DM#: <span id="dmCountOut" class="mono">0</span> <span class="small">(major on #5, #10...)</span></div>
          <div class="meta">Next DM: <span id="nextDmOut" class="mono">â€”</span></div>
          <div class="meta">Modifier: <span id="modOut" class="mono">â€”</span></div>
          <div class="meta">Recipe: <span id="recipeSrcOut" class="mono">â€”</span></div>
          <div class="meta">Status: <span id="statusOut" class="mono">ready</span></div>
        </div>
      </div>
    </div>

    <!-- Game Card -->
    <div class="card">
      <div class="cardHeader gameHeader">
        <div class="title" style="font-size:26px">Bottle Fill</div>
        <div class="stats">
          <div class="meta">Level: <span id="levelOut" class="mono">1</span></div>
          <div class="meta">Moves: <span id="movesOut" class="mono">0</span></div>
          <div class="meta">Invalid: <span id="badOut" class="mono">0</span></div>
          <div class="meta">Resets: <span id="resetOut" class="mono">0</span></div>
          <div class="meta">Cfg: <span id="cfgOut" class="mono">â€”</span></div>
          <div class="meta small">Tap bottle â†’ tap target.</div>
        </div>
      </div>

      <div id="legend" class="legend"></div>
      <div class="grid" id="grid"></div>

      <div class="controls">
        <button id="btnNext">Next Level</button>
        <button id="btnReset">Reset Run</button>
        <span class="small">Filler levels are deterministic. DM visits are seeded + persisted per run.</span>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>
  <div class="pourFX" id="pourFX"></div>

  <script type="module" src="./src/app.js"></script>
</body>
</html>

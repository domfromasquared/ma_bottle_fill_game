<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <!-- iPhone safe-area support -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Marketing Alchemist — Bottle Fill</title>

  <!-- DM speech font (DM-only styling happens in CSS) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./assets/styles.css" />
</head>

<body>
  <main class="screen" id="screen">
    <!-- BANK IDENTIFIER (left rail) -->
    <button class="bankRail" id="bankRail" aria-label="BANK Identifier">
      <div class="bankLetters">
        <span data-bank="B">B</span>
        <span data-bank="A">A</span>
        <span data-bank="N">N</span>
        <span data-bank="K">K</span>
      </div>
      <div class="bankExpanded" id="bankExpanded" aria-hidden="true">
        <div><b>B</b> — Blueprint (structure, steps)</div>
        <div><b>A</b> — Action (speed, results)</div>
        <div><b>N</b> — Nurturing (support, trust)</div>
        <div><b>K</b> — Knowledge (data, logic)</div>
      </div>
    </button>

    <!-- BOTTLES GRID (base layer) -->
    <section class="playfield" aria-label="Bottles Grid">
      <div class="hud">
        <div class="hudLeft">
          <div class="hudTitle">Bottle Fill</div>
          <div class="hudMeta" id="hudMeta">
            <span>Lvl <b id="levelOut">1</b></span>
            <span>Moves <b id="movesOut">0</b></span>
            <span>Invalid <b id="badOut">0</b></span>
          </div>
        </div>

        <!-- tiny, optional dev tap target -->
        <button class="devBtn" id="devBtn" aria-label="Settings">⚙️</button>
      </div>

      <div id="legend" class="legend"></div>
      <div class="grid" id="grid"></div>
    </section>

    <!-- MODIFIERS (bottom bar) -->
    <nav class="modBar" aria-label="Modifiers">
      <button class="modSlot" id="modSlot1" aria-label="Modifier slot 1"><span>+</span></button>
      <button class="modSlot" id="modSlot2" aria-label="Modifier slot 2"><span>+</span></button>
      <button class="modSlot" id="modSlot3" aria-label="Modifier slot 3"><span>+</span></button>
    </nav>

    <!-- CHARACTER (bottom-left overlay) -->
    <aside class="dmCharacter" id="dmCharacter" aria-hidden="true">
      <button class="dmClose" id="dmClose" aria-label="Close DM">✕</button>
      <!-- Placeholder: swap src to your DM PNG path when ready -->
      <div class="dmAvatar" id="dmAvatar" title="DM"></div>
    </aside>

    <!-- SPEECH BUBBLE (bottom-right overlay) -->
    <section class="speech" id="speech" aria-hidden="true">
      <div class="speechInner">
        <div class="speechTitle" id="questTitle">—</div>
        <div class="speechText" id="speechText"></div>
        <div class="speechSmall" id="speechSmall"></div>
      </div>
    </section>

    <!-- overlays -->
    <div class="toast" id="toast"></div>
    <div class="pourFX" id="pourFX"></div>

    <!-- settings drawer (simple) -->
    <dialog class="settings" id="settings">
      <form method="dialog">
        <header>
          <div><b>Settings</b></div>
          <button class="x" value="cancel" aria-label="Close">✕</button>
        </header>

        <label class="row">
          <span>API Base</span>
          <input id="apiBase" class="mono" placeholder="https://..." />
        </label>

        <menu>
          <button value="ok">Done</button>
        </menu>
      </form>
    </dialog>

    <div class="sr" id="statusOut" aria-live="polite">ready</div>
  </main>

  <script type="module" src="./src/app.js"></script>
</body>
</html>
